!function(t){"use strict";var e={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var o=function(){return!1},c=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},l=function(t,e){var n=t;return t>0?t>e&&(n=e):0-e>t&&(n=0-e),n},s=function(t,e){this.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),t.velocity>0&&this.addClass(e.right),t.velocity<0&&this.addClass(e.left),t.velocityY>0&&this.addClass(e.down),t.velocityY<0&&this.addClass(e.up)},a=function(t,e){e.velocity=0,e.velocityY=0,e.decelerate=!0,"function"==typeof e.stopped&&e.stopped.call(t,e)},r=function(t,e){var n=t[0];e.x&&n.scrollWidth>0?(n.scrollLeft=e.scrollLeft=n.scrollLeft+e.velocity,Math.abs(e.velocity)>0&&(e.velocity=e.decelerate?c(e.velocity,e.slowdown):e.velocity)):e.velocity=0,e.y&&n.scrollHeight>0?(n.scrollTop=e.scrollTop=n.scrollTop+e.velocityY,Math.abs(e.velocityY)>0&&(e.velocityY=e.decelerate?c(e.velocityY,e.slowdown):e.velocityY)):e.velocityY=0,s.call(t,e,e.deceleratingClass),"function"==typeof e.moved&&e.moved.call(t,e),Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0?window.requestAnimationFrame(function(){r(t,e)}):a(t,e)},u=function(e,i){var o=t.kinetic.callMethods[e],c=Array.prototype.slice.call(arguments);o&&this.each(function(){var e=c.slice(1),i=t(this).data(n);e.unshift(i),o.apply(this,e)})},v=function(e,n){e[0];t.support.touch?e.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):e.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),e.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",o).bind("dragstart",n.events.dragStart)},d=function(e,n){e[0];t.support.touch?e.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):e.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove).unbind("scroll",n.events.scroll),e.unbind("click",n.events.inputClick).unbind("selectstart",o),e.unbind("dragstart",n.events.dragStart)},f=function(o){this.addClass(i).each(function(){var i=this,c=t(this);if(!c.data(n)){var a,u,d,f,p=t.extend({},e,o),h=!1,m=!1,g=!1,w=1e3/p.throttleFPS;p.velocity=0,p.velocityY=0;var y=function(){a=!1,u=!1,g=!1};t(document).mouseup(y).click(y);var C=function(){p.velocity=l(h-a,p.maxvelocity),p.velocityY=l(m-u,p.maxvelocity)},b=function(e){return t.isFunction(p.filterTarget)?p.filterTarget.call(i,e)!==!1:!0},k=function(t,e){g=!0,p.velocity=h=0,p.velocityY=m=0,a=t,u=e},Y=function(){a&&h&&p.decelerate===!1&&(p.decelerate=!0,C(),a=h=g=!1,r(c,p))},D=function(e,n){(!d||new Date>new Date(d.getTime()+w))&&(d=new Date,g&&(a||u)&&(f&&(t(f).blur(),f=null,c.focus()),p.decelerate=!1,p.velocity=p.velocityY=0,c[0].scrollLeft=p.scrollLeft=p.x?c[0].scrollLeft-(e-a):c[0].scrollLeft,c[0].scrollTop=p.scrollTop=p.y?c[0].scrollTop-(n-u):c[0].scrollTop,h=a,m=u,a=e,u=n,C(),s.call(c,p,p.movingClass),"function"==typeof p.moved&&p.moved.call(c,p)))};p.events={touchStart:function(t){var e;b(t.target)&&(e=t.originalEvent.touches[0],k(e.clientX,e.clientY),t.stopPropagation())},touchMove:function(t){var e;g&&(e=t.originalEvent.touches[0],D(e.clientX,e.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){b(t.target)&&(k(t.clientX,t.clientY),f=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){Y(),f=null,t.preventDefault&&t.preventDefault()},inputMove:function(t){g&&(D(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof p.moved&&p.moved.call(c,p),t.preventDefault&&t.preventDefault()},inputClick:function(t){return Math.abs(p.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(t){return f?!1:void 0}},v(c,p),c.data(n,p).css("cursor",p.cursor),p.triggerHardware&&c.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};t.kinetic={settingsKey:n,callMethods:{start:function(e,n){var i=t(this);e=t.extend(e,n),e&&(e.decelerate=!1,r(i,e))},end:function(e,n){t(this);e&&(e.decelerate=!0)},stop:function(e,n){var i=t(this);a(i,e)},detach:function(e,n){var o=t(this);d(o,e),o.removeClass(i).css("cursor","")},attach:function(e,n){var o=t(this);v(o,e),o.addClass(i).css("cursor","move")}}},t.fn.kinetic=function(t){return"string"==typeof t?u.apply(this,arguments):f.call(this,t),this}}(window.jQuery||window.Zepto);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5raW5ldGljLmpzIl0sIm5hbWVzIjpbIiQiLCJERUZBVUxUX1NFVFRJTkdTIiwiY3Vyc29yIiwiZGVjZWxlcmF0ZSIsInRyaWdnZXJIYXJkd2FyZSIsInkiLCJ4Iiwic2xvd2Rvd24iLCJtYXh2ZWxvY2l0eSIsInRocm90dGxlRlBTIiwibW92aW5nQ2xhc3MiLCJ1cCIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJkZWNlbGVyYXRpbmdDbGFzcyIsIlNFVFRJTkdTX0tFWSIsIkFDVElWRV9DTEFTUyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJzdXBwb3J0IiwiZXh0ZW5kIiwidG91Y2giLCJkb2N1bWVudCIsInNlbGVjdFN0YXJ0IiwiZGVjZWxlcmF0ZVZlbG9jaXR5IiwidmVsb2NpdHkiLCJNYXRoIiwiZmxvb3IiLCJhYnMiLCJjYXBWZWxvY2l0eSIsIm1heCIsIm5ld1ZlbG9jaXR5Iiwic2V0TW92ZUNsYXNzZXMiLCJzZXR0aW5ncyIsImNsYXNzZXMiLCJ0aGlzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInZlbG9jaXR5WSIsInN0b3AiLCIkc2Nyb2xsZXIiLCJzdG9wcGVkIiwiY2FsbCIsIm1vdmUiLCJzY3JvbGxlciIsInNjcm9sbFdpZHRoIiwic2Nyb2xsTGVmdCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFRvcCIsIm1vdmVkIiwiY2FsbE9wdGlvbiIsIm1ldGhvZCIsIm9wdGlvbnMiLCJtZXRob2RGbiIsImtpbmV0aWMiLCJjYWxsTWV0aG9kcyIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiYXJndW1lbnRzIiwiZWFjaCIsIm9wdHMiLCJkYXRhIiwidW5zaGlmdCIsImFwcGx5IiwiYXR0YWNoTGlzdGVuZXJzIiwiJHRoaXMiLCJiaW5kIiwiZXZlbnRzIiwidG91Y2hTdGFydCIsImlucHV0RW5kIiwidG91Y2hNb3ZlIiwibW91c2Vkb3duIiwiaW5wdXREb3duIiwibW91c2V1cCIsIm1vdXNlbW92ZSIsImlucHV0TW92ZSIsImNsaWNrIiwiaW5wdXRDbGljayIsInNjcm9sbCIsImRyYWdTdGFydCIsImRldGFjaExpc3RlbmVycyIsInVuYmluZCIsImluaXRFbGVtZW50cyIsInNlbGYiLCJ4cG9zIiwieXBvcyIsImxhc3RNb3ZlIiwiZWxlbWVudEZvY3VzZWQiLCJwcmV2WFBvcyIsInByZXZZUG9zIiwibW91c2VEb3duIiwidGhyb3R0bGVUaW1lb3V0IiwicmVzZXRNb3VzZSIsImNhbGN1bGF0ZVZlbG9jaXRpZXMiLCJ1c2VUYXJnZXQiLCJ0YXJnZXQiLCJpc0Z1bmN0aW9uIiwiZmlsdGVyVGFyZ2V0Iiwic3RhcnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImVuZCIsImlucHV0bW92ZSIsIkRhdGUiLCJnZXRUaW1lIiwiYmx1ciIsImZvY3VzIiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaGVzIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJub2RlTmFtZSIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLXdlYmtpdC1wZXJzcGVjdGl2ZSIsIi13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eSIsInNldHRpbmdzS2V5IiwiZGV0YWNoIiwiYXR0YWNoIiwiZm4iLCJqUXVlcnkiLCJaZXB0byJdLCJtYXBwaW5ncyI6IkNBUUMsU0FBU0EsR0FDVCxZQUVHLElBQUlDLElBQ0lDLE9BQVEsT0FDUkMsWUFBWSxFQUNaQyxpQkFBaUIsRUFDakJDLEdBQUcsRUFDSEMsR0FBRyxFQUNIQyxTQUFVLEdBQ1ZDLFlBQWEsR0FDYkMsWUFBYSxHQUNiQyxhQUNJQyxHQUFJLG9CQUNKQyxLQUFNLHNCQUNOQyxLQUFNLHNCQUNOQyxNQUFPLHdCQUVY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QUFTdkYsRUFBVW1CLEdBQ3ZCLEdBQUllLEdBQVEzRSxFQUFFMkMsS0FDZCtDLEdBQWdCZixFQUFPbEMsR0FDdkJrQyxFQUNDL0IsWUFBWTNCLEdBQ1owRyxJQUFJLFNBQVUsS0FFbkJNLE9BQVEsU0FBU3hGLEVBQVVtQixHQUN2QixHQUFJZSxHQUFRM0UsRUFBRTJDLEtBQ2QrQixHQUFnQkMsRUFBT2xDLEdBQ3ZCa0MsRUFDQzlCLFNBQVM1QixHQUNUMEcsSUFBSSxTQUFVLFdBSTNCM0gsRUFBRWtJLEdBQUdwRSxRQUFVLFNBQVNGLEdBTXBCLE1BTHVCLGdCQUFaQSxHQUNQRixFQUFXZSxNQUFNOUIsS0FBTXlCLFdBRXZCd0IsRUFBYTFDLEtBQUtQLEtBQU1pQixHQUVyQmpCLE9BR2J6QixPQUFPaUgsUUFBVWpILE9BQU9rSCIsImZpbGUiOiJqcXVlcnkua2luZXRpYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICAgIGpRdWVyeS5raW5ldGljIHYxLjguMlxuICAgIERhdmUgVGF5bG9yIGh0dHA6Ly90aGUtdGF5bG9ycy5vcmcvanF1ZXJ5LmtpbmV0aWNcblxuICAgIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICAgIENvcHlyaWdodCAoYykgPDIwMTE+IDxEYXZlIFRheWxvciBodHRwOi8vdGhlLXRheWxvcnMub3JnPlxuKi9cbi8qZ2xvYmFsIGRlZmluZSxyZXF1aXJlICovXG4oZnVuY3Rpb24oJCl7XG5cdCd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBERUZBVUxUX1NFVFRJTkdTID0ge1xuICAgICAgICAgICAgY3Vyc29yOiAnbW92ZScsXG4gICAgICAgICAgICBkZWNlbGVyYXRlOiB0cnVlLFxuICAgICAgICAgICAgdHJpZ2dlckhhcmR3YXJlOiBmYWxzZSxcbiAgICAgICAgICAgIHk6IHRydWUsXG4gICAgICAgICAgICB4OiB0cnVlLFxuICAgICAgICAgICAgc2xvd2Rvd246IDAuOSxcbiAgICAgICAgICAgIG1heHZlbG9jaXR5OiA0MCxcbiAgICAgICAgICAgIHRocm90dGxlRlBTOiA2MCxcbiAgICAgICAgICAgIG1vdmluZ0NsYXNzOiB7XG4gICAgICAgICAgICAgICAgdXA6ICdraW5ldGljLW1vdmluZy11cCcsXG4gICAgICAgICAgICAgICAgZG93bjogJ2tpbmV0aWMtbW92aW5nLWRvd24nLFxuICAgICAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLW1vdmluZy1sZWZ0JyxcbiAgICAgICAgICAgICAgICByaWdodDogJ2tpbmV0aWMtbW92aW5nLXJpZ2h0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlY2VsZXJhdGluZ0NsYXNzOiB7XG4gICAgICAgICAgICAgICAgdXA6ICdraW5ldGljLWRlY2VsZXJhdGluZy11cCcsXG4gICAgICAgICAgICAgICAgZG93bjogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLWRvd24nLFxuICAgICAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLWRlY2VsZXJhdGluZy1sZWZ0JyxcbiAgICAgICAgICAgICAgICByaWdodDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLXJpZ2h0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBTRVRUSU5HU19LRVkgPSAna2luZXRpYy1zZXR0aW5ncycsXG4gICAgICAgIEFDVElWRV9DTEFTUyA9ICdraW5ldGljLWFjdGl2ZSc7XG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGluIGEgY3Jvc3MgYnJvd3NlciB3YXkuXG4gICAgICogaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAgICAgKi9cbiAgICBpZiAoICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24oIC8qIGZ1bmN0aW9uIEZyYW1lUmVxdWVzdENhbGxiYWNrICovIGNhbGxiYWNrLCAvKiBET01FbGVtZW50IEVsZW1lbnQgKi8gZWxlbWVudCApIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCggY2FsbGJhY2ssIDEwMDAgLyA2MCApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9KCkpO1xuXG4gICAgfVxuXG4gICAgLy8gYWRkIHRvdWNoIGNoZWNrZXIgdG8galF1ZXJ5LnN1cHBvcnRcbiAgICAkLnN1cHBvcnQgPSAkLnN1cHBvcnQgfHwge307XG4gICAgJC5leHRlbmQoJC5zdXBwb3J0LCB7XG4gICAgICAgIHRvdWNoOiBcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudFxuICAgIH0pO1xuICAgIHZhciBzZWxlY3RTdGFydCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cbiAgICB2YXIgZGVjZWxlcmF0ZVZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIHNsb3dkb3duKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguYWJzKHZlbG9jaXR5KSkgPT09IDAgPyAwIC8vIGlzIHZlbG9jaXR5IGxlc3MgdGhhbiAxP1xuICAgICAgICAgICAgICAgOiB2ZWxvY2l0eSAqIHNsb3dkb3duOyAvLyByZWR1Y2Ugc2xvd2Rvd25cbiAgICB9O1xuXG4gICAgdmFyIGNhcFZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIG1heCkge1xuICAgICAgICB2YXIgbmV3VmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgaWYgKHZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkgPSBtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkgPCAoMCAtIG1heCkpIHtcbiAgICAgICAgICAgICAgICBuZXdWZWxvY2l0eSA9ICgwIC0gbWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3VmVsb2NpdHk7XG4gICAgfTtcblxuICAgIHZhciBzZXRNb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uKHNldHRpbmdzLCBjbGFzc2VzKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3Moc2V0dGluZ3MubW92aW5nQ2xhc3MudXApXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3Moc2V0dGluZ3MubW92aW5nQ2xhc3MuZG93bilcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhzZXR0aW5ncy5tb3ZpbmdDbGFzcy5sZWZ0KVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNldHRpbmdzLm1vdmluZ0NsYXNzLnJpZ2h0KVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLnVwKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLmRvd24pXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3Moc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MubGVmdClcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5yaWdodCk7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLnZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhjbGFzc2VzLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0dGluZ3MudmVsb2NpdHkgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKGNsYXNzZXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldHRpbmdzLnZlbG9jaXR5WSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoY2xhc3Nlcy5kb3duKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0dGluZ3MudmVsb2NpdHlZIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhjbGFzc2VzLnVwKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHZhciBzdG9wID0gZnVuY3Rpb24oJHNjcm9sbGVyLCBzZXR0aW5ncykge1xuICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHNldHRpbmdzLnZlbG9jaXR5WSA9IDA7XG4gICAgICAgIHNldHRpbmdzLmRlY2VsZXJhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLnN0b3BwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLnN0b3BwZWQuY2FsbCgkc2Nyb2xsZXIsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiogZG8gdGhlIGFjdHVhbCBraW5ldGljIG1vdmVtZW50ICovXG4gICAgdmFyIG1vdmUgPSBmdW5jdGlvbigkc2Nyb2xsZXIsIHNldHRpbmdzKSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9ICRzY3JvbGxlclswXTtcbiAgICAgICAgLy8gc2V0IHNjcm9sbExlZnRcbiAgICAgICAgaWYgKHNldHRpbmdzLnggJiYgc2Nyb2xsZXIuc2Nyb2xsV2lkdGggPiAwKXtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbExlZnQgPSBzZXR0aW5ncy5zY3JvbGxMZWZ0ID0gc2Nyb2xsZXIuc2Nyb2xsTGVmdCArIHNldHRpbmdzLnZlbG9jaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNldHRpbmdzLnZlbG9jaXR5KSA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlVmVsb2NpdHkoc2V0dGluZ3MudmVsb2NpdHksIHNldHRpbmdzLnNsb3dkb3duKSA6IHNldHRpbmdzLnZlbG9jaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGluZ3MudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHNjcm9sbFRvcFxuICAgICAgICBpZiAoc2V0dGluZ3MueSAmJiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgPiAwKXtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbFRvcCA9IHNldHRpbmdzLnNjcm9sbFRvcCA9IHNjcm9sbGVyLnNjcm9sbFRvcCArIHNldHRpbmdzLnZlbG9jaXR5WTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzZXR0aW5ncy52ZWxvY2l0eVkpID4gMCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLnZlbG9jaXR5WSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlVmVsb2NpdHkoc2V0dGluZ3MudmVsb2NpdHlZLCBzZXR0aW5ncy5zbG93ZG93bikgOiBzZXR0aW5ncy52ZWxvY2l0eVk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eVkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0TW92ZUNsYXNzZXMuY2FsbCgkc2Nyb2xsZXIsIHNldHRpbmdzLCBzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5tb3ZlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2V0dGluZ3MubW92ZWQuY2FsbCgkc2Nyb2xsZXIsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhzZXR0aW5ncy52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHNldHRpbmdzLnZlbG9jaXR5WSkgPiAwKSB7XG4gICAgICAgICAgICAvLyB0aWNrIGZvciBuZXh0IG1vdmVtZW50XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7IG1vdmUoJHNjcm9sbGVyLCBzZXR0aW5ncyk7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcCgkc2Nyb2xsZXIsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2FsbE9wdGlvbiA9IGZ1bmN0aW9uKG1ldGhvZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbWV0aG9kRm4gPSAkLmtpbmV0aWMuY2FsbE1ldGhvZHNbbWV0aG9kXSxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgICAgIDtcbiAgICAgICAgaWYgKG1ldGhvZEZuKSB7XG4gICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IGFyZ3Muc2xpY2UoMSksIHNldHRpbmdzID0gJCh0aGlzKS5kYXRhKFNFVFRJTkdTX0tFWSk7XG4gICAgICAgICAgICAgICAgb3B0cy51bnNoaWZ0KHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBtZXRob2RGbi5hcHBseSh0aGlzLCBvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBhdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigkdGhpcywgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkdGhpc1swXTtcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50b3VjaCkge1xuICAgICAgICAgICAgJHRoaXMuYmluZCgndG91Y2hzdGFydCcsIHNldHRpbmdzLmV2ZW50cy50b3VjaFN0YXJ0KVxuICAgICAgICAgICAgICAgIC5iaW5kKCd0b3VjaGVuZCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZClcbiAgICAgICAgICAgICAgICAuYmluZCgndG91Y2htb3ZlJywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoTW92ZSlcbiAgICAgICAgICAgIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR0aGlzXG4gICAgICAgICAgICAgICAgLm1vdXNlZG93bihzZXR0aW5ncy5ldmVudHMuaW5wdXREb3duKVxuICAgICAgICAgICAgICAgIC5tb3VzZXVwKHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZClcbiAgICAgICAgICAgICAgICAubW91c2Vtb3ZlKHNldHRpbmdzLmV2ZW50cy5pbnB1dE1vdmUpXG4gICAgICAgICAgICA7XG4gICAgICAgIH1cbiAgICAgICAgJHRoaXNcbiAgICAgICAgICAgIC5jbGljayhzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaylcbiAgICAgICAgICAgIC5zY3JvbGwoc2V0dGluZ3MuZXZlbnRzLnNjcm9sbClcbiAgICAgICAgICAgIC5iaW5kKFwic2VsZWN0c3RhcnRcIiwgc2VsZWN0U3RhcnQpIC8vIHByZXZlbnQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmdcbiAgICAgICAgICAgIC5iaW5kKCdkcmFnc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMuZHJhZ1N0YXJ0KTtcbiAgICB9O1xuICAgIHZhciBkZXRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigkdGhpcywgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkdGhpc1swXTtcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50b3VjaCkge1xuICAgICAgICAgICAgJHRoaXMudW5iaW5kKCd0b3VjaHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoU3RhcnQpXG4gICAgICAgICAgICAgICAgLnVuYmluZCgndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQpXG4gICAgICAgICAgICAgICAgLnVuYmluZCgndG91Y2htb3ZlJywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoTW92ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpc1xuICAgICAgICAgICAgLnVuYmluZCgnbW91c2Vkb3duJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RG93bilcbiAgICAgICAgICAgIC51bmJpbmQoJ21vdXNldXAnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQpXG4gICAgICAgICAgICAudW5iaW5kKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlKVxuICAgICAgICAgICAgLnVuYmluZCgnc2Nyb2xsJywgc2V0dGluZ3MuZXZlbnRzLnNjcm9sbCk7XG4gICAgICAgIH1cbiAgICAgICAgJHRoaXMudW5iaW5kKCdjbGljaycsIHNldHRpbmdzLmV2ZW50cy5pbnB1dENsaWNrKVxuICAgICAgICAudW5iaW5kKFwic2VsZWN0c3RhcnRcIiwgc2VsZWN0U3RhcnQpOyAvLyBwcmV2ZW50IHNlbGVjdGlvbiB3aGVuIGRyYWdnaW5nXG4gICAgICAgICR0aGlzLnVuYmluZCgnZHJhZ3N0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLmRyYWdTdGFydCk7XG4gICAgfTtcblxuICAgIHZhciBpbml0RWxlbWVudHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHRoaXNcbiAgICAgICAgLmFkZENsYXNzKEFDVElWRV9DTEFTUylcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgaWYgKCR0aGlzLmRhdGEoU0VUVElOR1NfS0VZKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgREVGQVVMVF9TRVRUSU5HUywgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgeHBvcyxcbiAgICAgICAgICAgICAgICBwcmV2WFBvcyA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIHlwb3MsXG4gICAgICAgICAgICAgICAgcHJldllQb3MgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb3VzZURvd24gPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICB0aHJvdHRsZVRpbWVvdXQgPSAxMDAwIC8gc2V0dGluZ3MudGhyb3R0bGVGUFMsXG4gICAgICAgICAgICAgICAgbGFzdE1vdmUsXG4gICAgICAgICAgICAgICAgZWxlbWVudEZvY3VzZWRcbiAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgc2V0dGluZ3MudmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgc2V0dGluZ3MudmVsb2NpdHlZID0gMDtcblxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHJlc2V0IGV2ZXJ5dGhpbmcgd2hlbiBtb3VzZSB1cFxuICAgICAgICAgICAgdmFyIHJlc2V0TW91c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB4cG9zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgeXBvcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm1vdXNldXAocmVzZXRNb3VzZSkuY2xpY2socmVzZXRNb3VzZSk7XG5cbiAgICAgICAgICAgIHZhciBjYWxjdWxhdGVWZWxvY2l0aWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MudmVsb2NpdHkgICAgPSBjYXBWZWxvY2l0eShwcmV2WFBvcyAtIHhwb3MsIHNldHRpbmdzLm1heHZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eVkgICA9IGNhcFZlbG9jaXR5KHByZXZZUG9zIC0geXBvcywgc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB1c2VUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKHNldHRpbmdzLmZpbHRlclRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmZpbHRlclRhcmdldC5jYWxsKHNlbGYsIHRhcmdldCkgIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbihjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgICAgICAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eSA9IHByZXZYUG9zID0gMDtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52ZWxvY2l0eVkgPSBwcmV2WVBvcyA9IDA7XG4gICAgICAgICAgICAgICAgeHBvcyA9IGNsaWVudFg7XG4gICAgICAgICAgICAgICAgeXBvcyA9IGNsaWVudFk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh4cG9zICYmIHByZXZYUG9zICYmIHNldHRpbmdzLmRlY2VsZXJhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmRlY2VsZXJhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHhwb3MgPSBwcmV2WFBvcyA9IG1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBtb3ZlKCR0aGlzLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBpbnB1dG1vdmUgPSBmdW5jdGlvbihjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0TW92ZSB8fCBuZXcgRGF0ZSgpID4gbmV3IERhdGUobGFzdE1vdmUuZ2V0VGltZSgpICsgdGhyb3R0bGVUaW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0TW92ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlRG93biAmJiAoeHBvcyB8fCB5cG9zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50Rm9jdXNlZCkuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudmVsb2NpdHkgICA9IHNldHRpbmdzLnZlbG9jaXR5WSAgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXNbMF0uc2Nyb2xsTGVmdCA9IHNldHRpbmdzLnNjcm9sbExlZnQgPSBzZXR0aW5ncy54ID8gJHRoaXNbMF0uc2Nyb2xsTGVmdCAtIChjbGllbnRYIC0geHBvcykgOiAkdGhpc1swXS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXNbMF0uc2Nyb2xsVG9wICA9IHNldHRpbmdzLnNjcm9sbFRvcCAgPSBzZXR0aW5ncy55ID8gJHRoaXNbMF0uc2Nyb2xsVG9wIC0gKGNsaWVudFkgLSB5cG9zKSAgOiAkdGhpc1swXS5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WFBvcyA9IHhwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WVBvcyA9IHlwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB4cG9zID0gY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlwb3MgPSBjbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNb3ZlQ2xhc3Nlcy5jYWxsKCR0aGlzLCBzZXR0aW5ncywgc2V0dGluZ3MubW92aW5nQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm1vdmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MubW92ZWQuY2FsbCgkdGhpcywgc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgICAgICBzZXR0aW5ncy5ldmVudHMgPSB7XG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZVRhcmdldChlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvdWNoTW92ZTogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bW92ZSh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7ZS5wcmV2ZW50RGVmYXVsdCgpO31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5wdXREb3duOiBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZVRhcmdldChlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRGb2N1c2VkID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09ICdJTUcnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnB1dEVuZDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGVuZCgpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7ZS5wcmV2ZW50RGVmYXVsdCgpO31cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlucHV0TW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW91c2VEb3duKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bW92ZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge2UucHJldmVudERlZmF1bHQoKTt9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLm1vdmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5tb3ZlZC5jYWxsKCR0aGlzLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtlLnByZXZlbnREZWZhdWx0KCk7fVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5wdXRDbGljazogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzZXR0aW5ncy52ZWxvY2l0eSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZHJhZyBhbmQgZHJvcCBpbWFnZXMgaW4gaWVcbiAgICAgICAgICAgICAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhdHRhY2hMaXN0ZW5lcnMoJHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICR0aGlzLmRhdGEoU0VUVElOR1NfS0VZLCBzZXR0aW5ncylcbiAgICAgICAgICAgICAgICAuY3NzKFwiY3Vyc29yXCIsIHNldHRpbmdzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy50cmlnZ2VySGFyZHdhcmUpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtcGVyc3BlY3RpdmUnOiAnMTAwMCcsXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJC5raW5ldGljID0ge1xuICAgICAgICBzZXR0aW5nc0tleTogU0VUVElOR1NfS0VZLFxuICAgICAgICBjYWxsTWV0aG9kczoge1xuICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKHNldHRpbmdzLCBvcHRpb25zKXtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzID0gJC5leHRlbmQoc2V0dGluZ3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5kZWNlbGVyYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG1vdmUoJHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kOiBmdW5jdGlvbihzZXR0aW5ncywgb3B0aW9ucyl7XG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKHNldHRpbmdzLCBvcHRpb25zKXtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHN0b3AoJHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXRhY2g6IGZ1bmN0aW9uKHNldHRpbmdzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBkZXRhY2hMaXN0ZW5lcnMoJHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAkdGhpc1xuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhBQ1RJVkVfQ0xBU1MpXG4gICAgICAgICAgICAgICAgLmNzcyhcImN1cnNvclwiLCBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdHRhY2g6IGZ1bmN0aW9uKHNldHRpbmdzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBhdHRhY2hMaXN0ZW5lcnMoJHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAkdGhpc1xuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhBQ1RJVkVfQ0xBU1MpXG4gICAgICAgICAgICAgICAgLmNzcyhcImN1cnNvclwiLCBcIm1vdmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgICQuZm4ua2luZXRpYyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY2FsbE9wdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5pdEVsZW1lbnRzLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0bykpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
